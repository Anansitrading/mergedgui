---
phase: 02-core-crud-apis
plan: 04
type: execute
wave: 1
wave_type: ASYNC
depends_on: []
files_modified:
  - server/app/routers/reflexes.py
  - server/app/services/reflexes.py
  - server/tests/test_reflexes.py
autonomous: true
difficulty: medium
---

<objective>
Implement Reflexes CRUD endpoints: list, create, get, update, delete, toggle, test, webhook info, stats.
12 endpoints for event-triggered skill execution management.
</objective>

<context>
@server/app/models/reflex.py
@server/app/middleware/auth.py
@database/002_skills_tables.sql
</context>

<tasks>
<task type="auto">
  <name>Create reflexes service, router, and tests</name>
  <files>
    server/app/services/reflexes.py
    server/app/routers/reflexes.py
    server/app/main.py
    server/tests/test_reflexes.py
  </files>
  <action>
    Router endpoints:
    - GET /reflexes (paginated, filterable by skill_id/trigger_type/active)
    - POST /reflexes
    - GET /reflexes/{id}
    - PATCH /reflexes/{id}
    - DELETE /reflexes/{id}
    - POST /reflexes/{id}/toggle
    - POST /reflexes/{id}/test (simulate trigger)
    - GET /reflexes/{id}/webhook (get webhook URL + info)
    - GET /reflexes/{id}/stats
    - POST /reflexes/webhook/{id} (inbound webhook receiver â€” public endpoint)
    Wire into main.py. Most use require_auth. Webhook receiver is public.
  </action>
  <done>Reflexes CRUD endpoints with webhook receiver</done>
</task>
</tasks>

<output>
After completion, create `.planning/phases/02-core-crud-apis/02-04-SUMMARY.md`
</output>
