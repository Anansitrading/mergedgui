---
title: Health Probes & Rate Limiting
phase: 5
plan: 2
type: infrastructure
dag_score: 0.6
---

# Plan 05-02: Health Probes & Rate Limiting

## Objective
Add production health monitoring and rate limiting to protect auth endpoints.

## Tasks
1. Health service checking Redis, Database, Keycloak, Stripe dependencies
2. Readiness probe endpoint (/health/ready) with structured response
3. Redis-backed sliding window rate limiter
4. In-memory fallback when Redis unavailable
5. Per-endpoint rate limit configuration

## Dependencies
- Redis connection (dependencies.py)
- Supabase connection
- Keycloak service

## Verification
- [ ] Health endpoint returns all dependency statuses
- [ ] Rate limiter blocks excess requests (429)
- [ ] Fallback works when Redis is down
- [ ] Rate limit headers in response
